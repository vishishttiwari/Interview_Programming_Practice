package conversion;

import java.util.ArrayList;
import java.util.Collections;

import general.Node;
import general.Print;

public class Binary_Tree_To_Binary_Search_Tree {
	public static void main(String[] args) {
		Node root = new Node(10);
		root.left = new Node(30);
		root.right = new Node(15);
		root.left.left = new Node(20);
		root.right.right = new Node(5);
		Print.print(convert(root));
	}
	
	static ArrayList<Integer> arr;
	static int index;
	public static Node convert(Node root) {
		arr = new ArrayList<Integer>();
		index = 0;
		inorder(root);
		Collections.sort(arr);
		inorderAgain(root);
		return root;
	}
	
	public static void inorder(Node root) {
		if (root == null) return;
		inorder(root.left);
		arr.add(root.value);
		inorder(root.right);
	}
	
	public static void inorderAgain(Node root) {
		if (root == null) return;
		inorderAgain(root.left);
		root.value = arr.get(index);
		index++;
		inorderAgain(root.right);
	}
}
